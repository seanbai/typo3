{namespace i=TYPO3\CMS\Install\ViewHelpers}

<f:layout name="ToolAuthenticated" />

<f:section name="Content">
	<h1>Folder Structure</h1>
	<p>Root Directory: <strong><i:constant name="PATH_site" /></strong></p>

	<f:if condition="{fixedStatus}">
		<hr />
		<h3>Fix action results:</h3>
		<f:for each="{fixedStatus}" as="statusMessage">
			<f:render partial="Action/Common/StatusMessage" arguments="{message: statusMessage}" />
		</f:for>
	</f:if>

	<f:if condition="{errorStatus}">
		<hr />
		<h3>These files or folders have errors and may be fixed automatically:</h3>
		<f:for each="{errorStatus}" as="statusMessage">
			<f:render partial="Action/Common/StatusMessage" arguments="{message: statusMessage}" />
		</f:for>
		<form method="post">
			<f:render partial="Action/Common/HiddenFormFields" arguments="{_all}" />
			<f:render partial="Action/Common/SubmitButton" arguments="{name:'fix', text:'Try to fix file and folder permissions'}"/>
		</form>
	</f:if>

	<hr />
	<h3>Default File and Directory permissions</h3>
	<f:render partial="Action/Common/StatusMessage" arguments="{message: filePermissionStatus}" />
	<f:render partial="Action/Common/StatusMessage" arguments="{message: directoryPermissionStatus}" />

	<f:if condition="{okStatus}">
		<hr />
		<h3>These structures don't need to be fixed:</h3>
		<f:for each="{okStatus}" as="statusMessage">
			<f:render partial="Action/Common/StatusMessage" arguments="{message: statusMessage}" />
		</f:for>
	</f:if>
</f:section>
